pre-commit:
  parallel: true
  commands:
    rubocop:
      tags: application style
      glob: '**/*.rb'
      files: git ls-files -m | xargs ls -1 2>/dev/null | grep '\.rb$' | xargs
      run: docker-compose exec app rubocop {files}
    optimization:
      tags: application performance
      glob: '**/*.rb'
      files: git ls-files -m | xargs ls -1 2>/dev/null | grep '\.rb$' | xargs
      run: docker-compose exec app fasterer {files}
pre-push:
  parallel: true
  commands:
    optimization:
      tags: application performance
      glob: '**/*.rb'
      files: git ls-files -m | xargs ls -1 2>/dev/null | grep '\.rb$' | xargs
      run: docker-compose exec app fasterer {files}
